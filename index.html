<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Write Better Listings - AI Property Description Generator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        @keyframes fadeInUp {
            from { 
                opacity: 0; 
                transform: translateY(30px); 
            }
            to { 
                opacity: 1; 
                transform: translateY(0); 
            }
        }
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        @keyframes shimmer {
            0% { background-position: -1000px 0; }
            100% { background-position: 1000px 0; }
        }
        .fade-in-up {
            animation: fadeInUp 0.6s ease-out forwards;
        }
        .float {
            animation: float 3s ease-in-out infinite;
        }
        .gradient-text {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .glass-effect {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        .shimmer {
            background: linear-gradient(90deg, #667eea 0%, #764ba2 50%, #667eea 100%);
            background-size: 200% auto;
            animation: shimmer 3s linear infinite;
        }
        .card-hover {
            transition: all 0.3s ease;
        }
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(102, 126, 234, 0.2);
        }
    </style>
</head>
<body class="bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50 min-h-screen">
    
    <!-- Hero Header -->
    <div class="relative overflow-hidden bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 text-white">
        <div class="absolute inset-0 bg-black opacity-10"></div>
        <div class="relative max-w-7xl mx-auto px-4 py-12 md:py-20">
            <div class="text-center">
                <h1 class="text-4xl md:text-6xl font-extrabold mb-4 tracking-tight">
                    WriteBetterListings.com
                </h1>
                <p class="text-xl md:text-2xl font-light opacity-90 mb-2">AI-Powered Property Descriptions</p>
                <p class="text-sm md:text-base opacity-75">Transform your property details into compelling listings in seconds</p>
            </div>
        </div>
        <div class="absolute bottom-0 left-0 right-0">
            <svg viewBox="0 0 1440 120" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M0 0L60 10C120 20 240 40 360 46.7C480 53 600 47 720 43.3C840 40 960 40 1080 46.7C1200 53 1320 67 1380 73.3L1440 80V120H1380C1320 120 1200 120 1080 120C960 120 840 120 720 120C600 120 480 120 360 120C240 120 120 120 60 120H0V0Z" fill="#faf5ff"/>
            </svg>
        </div>
    </div>

    <div class="max-w-6xl mx-auto px-4 -mt-8 pb-16">
        
        <!-- Main Generator Card -->
        <div class="glass-effect rounded-3xl shadow-2xl p-6 md:p-10 mb-8 fade-in-up">
            <div class="flex items-center gap-4 mb-6">
                <div class="bg-gradient-to-br from-indigo-500 to-purple-600 p-4 rounded-2xl shadow-lg float">
                    <svg class="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                    </svg>
                </div>
                <div>
                    <h2 class="text-3xl md:text-4xl font-bold text-gray-800">Generate Your Description</h2>
                    <p class="text-gray-600 mt-1">Transform property details into compelling listings</p>
                </div>
            </div>

            <!-- Form -->
            <div id="propertyForm" class="space-y-8">
                
                <!-- Property Basics -->
                <div>
                    <h3 class="text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2">
                        <span class="bg-indigo-100 text-indigo-600 w-8 h-8 rounded-full flex items-center justify-center font-bold">1</span>
                        Property Basics
                    </h3>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2">Property Type</label>
                            <select id="propertyType" class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all">
                                <option value="house">House</option>
                                <option value="condo">Condo</option>
                                <option value="townhouse">Townhouse</option>
                                <option value="apartment">Apartment</option>
                                <option value="land">Land</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2">Bedrooms</label>
                            <input type="number" id="bedrooms" placeholder="3" 
                                   class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all">
                        </div>
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2">Bathrooms</label>
                            <input type="number" step="0.5" id="bathrooms" placeholder="2.5" 
                                   class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all">
                        </div>
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2">Square Footage</label>
                            <input type="number" id="sqft" placeholder="2,000" 
                                   class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all">
                        </div>
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2">Price</label>
                            <input type="text" id="price" placeholder="$450,000" 
                                   class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all">
                        </div>
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2">Location</label>
                            <input type="text" id="location" placeholder="Buffalo, NY" 
                                   class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all">
                        </div>
                    </div>
                </div>

                <!-- Features -->
                <div>
                    <h3 class="text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2">
                        <span class="bg-indigo-100 text-indigo-600 w-8 h-8 rounded-full flex items-center justify-center font-bold">2</span>
                        Features & Amenities
                    </h3>
                    <div id="featuresGrid" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3"></div>
                </div>

                <!-- Existing Description -->
                <div>
                    <h3 class="text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2">
                        <span class="bg-indigo-100 text-indigo-600 w-8 h-8 rounded-full flex items-center justify-center font-bold">3</span>
                        Current Description (Optional)
                    </h3>
                    <textarea id="existingDescription" rows="4" 
                              placeholder="Have an existing description? Paste it here and we'll improve it..."
                              class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all"></textarea>
                </div>

                <!-- Generate Button -->
                <button id="generateBtn" onclick="generateDescriptions()" 
                        class="w-full bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 text-white py-5 px-8 rounded-2xl font-bold text-lg hover:shadow-2xl transition-all transform hover:scale-[1.02] flex items-center justify-center gap-3">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                    </svg>
                    Generate AI Descriptions
                </button>

                <!-- Error Message -->
                <div id="errorMsg" class="hidden bg-red-50 border-2 border-red-200 text-red-700 px-6 py-4 rounded-2xl font-medium"></div>
            </div>
        </div>

        <!-- Results -->
        <div id="results" class="hidden space-y-5"></div>
    </div>

    <!-- Footer CTA -->
    <footer class="bg-gradient-to-r from-indigo-900 via-purple-900 to-pink-900 text-white py-16 mt-16">
        <div class="max-w-5xl mx-auto px-4 text-center">
            <div class="bg-white/10 backdrop-blur-md rounded-3xl p-8 md:p-12">
                <div class="mb-8 pb-8 border-b border-white/20">
                    <p class="text-lg md:text-xl mb-2 opacity-90">
                        âœ¨ This website is <span class="font-bold">free of charge</span> courtesy of Chris Kivi
                    </p>
                    <p class="text-base opacity-75">Professional Real Estate Photographer serving Western NY & Buffalo</p>
                </div>
                
                <h3 class="text-3xl md:text-4xl font-bold mb-4">Great Descriptions Need Great Photos</h3>
                <p class="text-xl mb-8 opacity-90">Ready to make your listings stand out with professional photography?</p>
                
                <div class="flex flex-col sm:flex-row gap-4 justify-center items-center">
                    <a href="tel:716-770-8030" 
                       class="inline-flex items-center gap-2 bg-white text-indigo-600 px-10 py-5 rounded-full font-bold text-lg hover:bg-gray-100 transition-all transform hover:scale-105 shadow-2xl">
                        ðŸ“ž Call: (716) 770-8030
                    </a>
                    <a href="mailto:realtypix360@gmail.com?subject=Book Listing Photos" 
                       class="inline-flex items-center gap-2 bg-white text-indigo-600 px-10 py-5 rounded-full font-bold text-lg hover:bg-gray-100 transition-all transform hover:scale-105 shadow-2xl">
                        ðŸ“§ realtypix360@gmail.com
                    </a>
                </div>
            </div>
        </div>
    </footer>

    <script>
        const features = [
            'Hardwood Floors', 'Granite Countertops', 'Stainless Steel Appliances',
            'Walk-in Closet', 'Updated Kitchen', 'Updated Bathrooms',
            'Central Air', 'Fireplace', 'Deck/Patio', 'Backyard',
            'Garage', 'Pool', 'Home Office', 'Basement',
            'High Ceilings', 'Natural Light', 'Open Floor Plan',
            'Smart Home Features', 'Energy Efficient', 'Recently Renovated'
        ];

        const selectedFeatures = new Set();

        // Generate feature checkboxes
        const featuresGrid = document.getElementById('featuresGrid');
        features.forEach(feature => {
            const label = document.createElement('label');
            label.className = 'flex items-center space-x-2 cursor-pointer bg-white px-4 py-3 rounded-xl border-2 border-gray-200 hover:border-indigo-300 hover:bg-indigo-50 transition-all';
            label.innerHTML = `
                <input type="checkbox" value="${feature}" onchange="toggleFeature('${feature}')" 
                       class="w-5 h-5 text-indigo-600 rounded focus:ring-indigo-500">
                <span class="text-sm font-medium text-gray-700">${feature}</span>
            `;
            featuresGrid.appendChild(label);
        });

        function toggleFeature(feature) {
            if (selectedFeatures.has(feature)) {
                selectedFeatures.delete(feature);
            } else {
                selectedFeatures.add(feature);
            }
        }

        async function generateDescriptions() {
            const btn = document.getElementById('generateBtn');
            const errorMsg = document.getElementById('errorMsg');
            const results = document.getElementById('results');
            
            btn.disabled = true;
            btn.innerHTML = `
                <svg class="animate-spin w-6 h-6" fill="none" viewBox="0 0 24 24">
                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                    <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                </svg>
                Creating Your Descriptions...
            `;
            errorMsg.classList.add('hidden');
            results.classList.add('hidden');

            try {
                const propertyDetails = `
Property Type: ${document.getElementById('propertyType').value}
Bedrooms: ${document.getElementById('bedrooms').value || 'Not specified'}
Bathrooms: ${document.getElementById('bathrooms').value || 'Not specified'}
Square Footage: ${document.getElementById('sqft').value || 'Not specified'}
Price: ${document.getElementById('price').value || 'Not specified'}
Location: ${document.getElementById('location').value || 'Not specified'}
Features: ${Array.from(selectedFeatures).join(', ') || 'None selected'}
${document.getElementById('existingDescription').value ? `\nExisting Description: ${document.getElementById('existingDescription').value}` : ''}
                `.trim();

                const prompt = `You are an expert real estate copywriter. Based on the following property details, generate 3 distinct, compelling property descriptions in different styles:

${propertyDetails}

Generate exactly 3 descriptions:
1. Professional & Detailed - Factual, comprehensive, appeals to serious buyers
2. Warm & Inviting - Emotional, lifestyle-focused, helps buyers imagine living there
3. Luxury & Sophisticated - Upscale language, emphasizes premium features and exclusivity

Each description should be 3-4 sentences long and highlight the property's best features. Make them unique from each other in tone and focus.

Format your response as valid JSON with this structure:
{
  "descriptions": [
    {"style": "Professional & Detailed", "text": "description here"},
    {"style": "Warm & Inviting", "text": "description here"},
    {"style": "Luxury & Sophisticated", "text": "description here"}
  ]
}

Return ONLY the JSON, no other text.`;

                const response = await fetch('/api/generate', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        propertyDetails: prompt
                    })
                });

                const data = await response.json();
                
                if (data.content && data.content[0] && data.content[0].text) {
                    const responseText = data.content[0].text.trim();
                    const jsonMatch = responseText.match(/\{[\s\S]*\}/);
                    
                    if (jsonMatch) {
                        const parsed = JSON.parse(jsonMatch[0]);
                        displayResults(parsed.descriptions);
                    } else {
                        throw new Error('Could not parse response');
                    }
                } else {
                    throw new Error('Invalid response from API');
                }
            } catch (err) {
                console.error(err);
                errorMsg.textContent = 'Failed to generate descriptions. Please try again.';
                errorMsg.classList.remove('hidden');
            } finally {
                btn.disabled = false;
                btn.innerHTML = `
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                    </svg>
                    Generate AI Descriptions
                `;
            }
        }

        function displayResults(descriptions) {
            const results = document.getElementById('results');
            results.innerHTML = '';
            
            const icons = ['ðŸ†', 'â¤ï¸', 'ðŸ’Ž'];
            
            descriptions.forEach((desc, index) => {
                const card = document.createElement('div');
                card.className = 'glass-effect rounded-3xl shadow-xl p-6 md:p-8 fade-in-up card-hover';
                card.style.animationDelay = `${index * 0.15}s`;
                card.innerHTML = `
                    <div class="flex items-start justify-between mb-4 gap-4">
                        <div class="flex items-center gap-3">
                            <span class="text-3xl">${icons[index]}</span>
                            <h3 class="text-xl md:text-2xl font-bold text-gray-800">${desc.style}</h3>
                        </div>
                        <button onclick="copyToClipboard(\`${desc.text.replace(/`/g, '\\`')}\`, this)" 
                                class="flex-shrink-0 bg-gradient-to-r from-indigo-500 to-purple-600 text-white px-5 py-2.5 rounded-xl font-semibold hover:shadow-lg transition-all transform hover:scale-105">
                            Copy
                        </button>
                    </div>
                    <p class="text-gray-700 text-lg leading-relaxed">${desc.text}</p>
                `;
                results.appendChild(card);
            });
            
            results.classList.remove('hidden');
            setTimeout(() => {
                results.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            }, 100);
        }

        function copyToClipboard(text, button) {
            navigator.clipboard.writeText(text).then(() => {
                const originalText = button.innerHTML;
                button.innerHTML = 'âœ“ Copied!';
                button.classList.add('opacity-75');
                
                setTimeout(() => {
                    button.innerHTML = originalText;
                    button.classList.remove('opacity-75');
                }, 2000);
            });
        }
    </script>
</body>
</html>
